# 🔄 단계 전환 Hook

> **언제 실행되나**: 사용자가 "단계: [단계명]" 명령어를 사용할 때 자동 실행
> **왜 필요한가**: 워크플로우 단계 전환 시 필요한 작업들을 자동화

## 🎯 Hook 작동 방식

### 트리거 조건

```
IF 사용자가 다음 중 하나의 명령어 사용:
  - "단계: 탐색"
  - "단계: 계획"
  - "단계: 구현"
  - "단계: 커밋"
  - "시작: [기능명]"
  - "완료: [기능명]"
THEN 해당 단계 Hook 실행
```

### 실행되는 작업

1. **이전 단계 완료 검증**: 이전 단계가 제대로 완료되었는지 확인
2. **다음 단계 준비**: 새 단계에 필요한 파일들 준비
3. **컨텍스트 업데이트**: 현재 상태를 모든 관련 파일에 반영
4. **체크리스트 제공**: 새 단계에서 해야 할 일들 안내

## 📋 단계별 실행 명령어

### 🔍 "단계: 탐색" 실행 시

```
탐색 단계로 전환해줘.

현재 기능: [CURRENT_FEATURE]

다음 작업들을 수행해줘:
1. workflow/exploration.md 활성화 및 초기화
2. current-status.md에서 현재 단계를 "탐색"으로 변경
3. 탐색 체크리스트 제공:
   - [ ] 관련 기존 코드 검색 및 분석
   - [ ] 사용 중인 라이브러리/프레임워크 확인
   - [ ] 비슷한 기능 구현 사례 조사
   - [ ] 새 기능에 필요한 외부 라이브러리 식별
   - [ ] 수정이 필요한 파일 목록 작성

탐색 완료 후 "단계: 계획" 명령어를 사용해서 다음 단계로 진행하세요.
```

### 📋 "단계: 계획" 실행 시

```
계획 단계로 전환해줘.

이전 단계 검증:
- exploration.md에서 탐색 결과 확인
- 필요한 정보가 모두 수집되었는지 체크

다음 작업들을 수행해줘:
1. workflow/planning.md 활성화 및 초기화
2. 탐색 결과를 바탕으로 계획 수립:
   - [ ] 기능 구현 방법 설계
   - [ ] 필요한 컴포넌트/모듈 정의
   - [ ] 데이터 흐름 설계
   - [ ] API 엔드포인트 설계
   - [ ] 파일 변경 계획 작성
   - [ ] 테스트 계획 수립

계획 완료 후 "단계: 구현" 명령어를 사용해서 다음 단계로 진행하세요.
```

### ⚡ "단계: 구현" 실행 시

```
구현 단계로 전환해줘.

이전 단계 검증:
- planning.md에서 구현 계획 확인
- 모든 설계가 완료되었는지 체크

다음 작업들을 수행해줘:
1. workflow/implementation.md 활성화 및 초기화
2. 구현 진행률 추적 시작:
   - [ ] 계획된 파일들 생성/수정
   - [ ] 핵심 로직 구현
   - [ ] 에러 핸들링 추가
   - [ ] 입력 검증 로직 추가
   - [ ] 단위 테스트 작성
   - [ ] 통합 테스트 작성

구현 완료 후 "단계: 커밋" 명령어를 사용해서 다음 단계로 진행하세요.
```

### ✅ "단계: 커밋" 실행 시

```
커밋 단계로 전환해줘.

이전 단계 검증:
- implementation.md에서 구현 완료 상태 확인
- 모든 필수 기능이 구현되었는지 체크

다음 작업들을 수행해줘:
1. workflow/commit.md 활성화
2. pre-commit-checklist Hook 자동 실행
3. 최종 검토 체크리스트 제공:
   - [ ] 모든 테스트 통과
   - [ ] 코드 품질 검사 통과
   - [ ] 보안 검사 통과
   - [ ] 문서화 완료

모든 체크 완료 후 실제 커밋을 진행하세요.
```

## 🚀 "시작: [기능명]" 실행 시

```
새 기능 "[기능명]" 개발을 시작해줘.

다음 작업들을 수행해줘:
1. features/[기능명].md 파일 생성 (template.md 기반)
2. current-status.md 업데이트:
   - 현재 작업 중인 기능을 "[기능명]"으로 변경
   - 단계를 "탐색"으로 설정
3. 자동으로 "단계: 탐색" Hook 실행

"[기능명]" 기능 개발이 시작되었습니다. 탐색 단계부터 진행하세요.
```

## ✅ "완료: [기능명]" 실행 시

```
"[기능명]" 기능 개발을 완료 처리해줘.

다음 작업들을 수행해줘:
1. post-commit-cleanup Hook 자동 실행
2. 완료 축하 메시지 및 통계 출력
3. 다음 기능 제안

🎉 "[기능명]" 개발이 완료되었습니다!
```
