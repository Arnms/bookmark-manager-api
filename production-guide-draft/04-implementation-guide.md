# 4. 실제 구현 가이드

## 🚀 단계별 구현 방법

### 전체 구현 순서

```
1. 기본 폴더 구조 생성 (5분)
2. 템플릿 파일 작성 (15분)
3. Hook 파일 작성 (20분)
4. 테스트 및 검증 (10분)
5. 사용법 숙지 (10분)

총 소요시간: 약 1시간
```

## 📁 1단계: 기본 폴더 구조 생성

### 폴더 생성

```bash
# 프로젝트 루트에서 실행
mkdir -p context/{workflow,features,history}
mkdir -p .claude/hooks
```

### 생성 결과 확인

```bash
tree context/ .claude/
# 결과:
# context/
# ├── features/
# ├── history/
# └── workflow/
# .claude/
# └── hooks/
```

## 📝 2단계: 핵심 템플릿 파일 작성

### A. 컨텍스트 사용법 가이드 (context/README.md)

```markdown
# 📋 컨텍스트 관리 시스템

> **역할**: 전체 컨텍스트 관리 시스템의 사용법과 규칙 정의  
> **사용 시점**: 새로운 기능 개발 시작 전, 컨텍스트 시스템 처음 사용 시

## 🤖 자동화 명령어

### 워크플로우 관리

- `시작: [기능명]` - 새 기능 개발 시작, 컨텍스트 초기화
- `단계: 탐색` - 탐색 단계로 전환, exploration.md 업데이트
- `단계: 계획` - 계획 단계로 전환, planning.md 업데이트
- `단계: 구현` - 구현 단계로 전환, implementation.md 업데이트
- `단계: 커밋` - 커밋 단계로 전환, commit.md 업데이트
- `완료: [기능명]` - 기능 완료, 히스토리 보관

### 상태 관리

- `상태 업데이트` - current-status.md 최신화
- `진행률 확인` - 현재 진행률 체크
- `컨텍스트 동기화` - 모든 컨텍스트 파일 동기화

## 📋 체크리스트

### 새 기능 시작 시

- [ ] `current-status.md`에서 현재 상태 확인
- [ ] `features/[기능명].md` 파일 생성
- [ ] 탐색 단계부터 시작

### 단계 전환 시

- [ ] 이전 단계 완료 여부 확인
- [ ] 해당 워크플로우 문서 업데이트
- [ ] `current-status.md` 진행률 업데이트

### 기능 완료 시

- [ ] 모든 테스트 통과 확인
- [ ] `history/` 폴더에 완료 기록 저장
- [ ] 다음 기능으로 상태 전환
```

### B. 현재 상태 대시보드 (context/current-status.md)

```markdown
# 🎯 현재 개발 상태

> **역할**: 현재 무엇을 하고 있는지, 어디까지 왔는지 한눈에 파악  
> **사용 시점**: 개발 시작 시, 중간 점검 시, 현황 공유 시

## 📊 프로젝트 개요

- **프로젝트**: [프로젝트명]
- **현재 단계**: 프로젝트 초기화 완료
- **마지막 업데이트**: 2025-07-19

## 🎯 현재 진행 중

- **단계**: 💡 **탐색** → 계획 → 구현 → 커밋
- **기능**: 컨텍스트 관리 시스템 구축
- **진행률**: 1/4 단계 완료 (25%)

### 현재 작업

- 컨텍스트 폴더 구조 생성
- 각 워크플로우 문서 템플릿 작성
- 자동화 시스템 설계

## ✅ 완료된 작업

### Phase 0: 프로젝트 초기화

- [x] 프로젝트 기본 구조 분석
- [x] 컨텍스트 관리 시스템 설계
- [x] 폴더 구조 생성

## 🔄 다음 할 일

### 우선순위 1: 컨텍스트 시스템 완성

1. 워크플로우 템플릿 파일 작성 완료
2. 자동화 명령어 시스템 구현
3. 첫 번째 기능 개발 시작

## 🚨 현재 이슈

현재 이슈 없음

## 📝 메모

- 컨텍스트 관리 시스템을 통해 체계적인 개발 진행 예정
- 4단계 워크플로우(탐색-계획-구현-커밋)를 모든 기능에 적용
```

### C. 워크플로우 템플릿 파일들

#### context/workflow/exploration.md

```markdown
# 🔍 탐색 단계 (Exploration)

> **역할**: 기존 코드 분석, 의존성 파악, 영향 범위 조사  
> **사용 시점**: 새 기능 개발 전 현황 파악 시

## 📋 탐색 체크리스트

### 코드베이스 분석

- [ ] 관련 기존 코드 검색 및 분석
- [ ] 사용 중인 라이브러리/프레임워크 확인
- [ ] 비슷한 기능 구현 사례 조사

### 의존성 분석

- [ ] 새 기능에 필요한 외부 라이브러리 식별
- [ ] 기존 의존성과의 충돌 가능성 확인
- [ ] 버전 호환성 검토

### 영향 범위 파악

- [ ] 수정이 필요한 파일 목록 작성
- [ ] 기존 기능에 미칠 영향 분석
- [ ] 테스트 범위 확인

## 🎯 현재 탐색 중인 기능

**기능명**: [여기에 기능명 입력]

### 발견한 내용

[탐색 과정에서 발견한 주요 내용들을 기록]

### 기존 코드 분석

[관련 기존 코드가 있다면 여기에 기록]

### 필요한 의존성

[새로 추가해야 할 라이브러리나 도구들]

### 예상 영향 범위

[수정이 필요한 파일들과 영향을 받을 기능들]

## ⚠️ 발견한 이슈

[탐색 과정에서 발견한 잠재적 문제들]

## 📝 다음 단계 준비사항

[계획 단계로 넘어가기 위해 정리해야 할 내용들]

---

**탐색 완료 시**: `단계: 계획` 명령어로 다음 단계 진행
```

#### context/workflow/planning.md

```markdown
# 📋 계획 단계 (Planning)

> **역할**: 구현 방법 설계, 변경할 파일 목록, 테스트 계획 수립  
> **사용 시점**: 탐색 완료 후 실제 구현 전 설계 시

## 📋 계획 체크리스트

### 설계 및 아키텍처

- [ ] 기능 구현 방법 설계
- [ ] 필요한 컴포넌트/모듈 정의
- [ ] 데이터 흐름 설계
- [ ] API 엔드포인트 설계 (해당하는 경우)

### 파일 변경 계획

- [ ] 새로 생성할 파일 목록
- [ ] 수정할 기존 파일 목록
- [ ] 삭제할 파일 목록 (해당하는 경우)

### 테스트 계획

- [ ] 단위 테스트 계획
- [ ] 통합 테스트 계획
- [ ] 테스트 시나리오 작성

## 🎯 현재 계획 중인 기능

**기능명**: [여기에 기능명 입력]

### 구현 방법

[구체적인 구현 접근 방법 설명]

### 필요한 컴포넌트/모듈

[만들어야 할 새로운 컴포넌트나 모듈들]

### 데이터 흐름

[데이터가 어떻게 흘러가는지 설명]

## 📁 파일 변경 계획

### 새로 생성할 파일

- [ ] `src/path/to/new-file.ts` - [파일 역할 설명]
- [ ] `tests/path/to/test-file.test.ts` - [테스트 파일 설명]

### 수정할 기존 파일

- [ ] `src/existing-file.ts` - [수정 내용 설명]

## 🧪 테스트 계획

### 단위 테스트

- [ ] [테스트 케이스 1]
- [ ] [테스트 케이스 2]

### 통합 테스트

- [ ] [통합 테스트 시나리오 1]

## ⚠️ 예상 리스크

[구현 과정에서 예상되는 문제점들과 대응 방안]

## 📝 구현 순서

1. [첫 번째 단계]
2. [두 번째 단계]
3. [세 번째 단계]

---

**계획 완료 시**: `단계: 구현` 명령어로 다음 단계 진행
```

### D. 기능별 템플릿 (context/features/template.md)

```markdown
# 🚀 [기능명] 개발 컨텍스트

> **역할**: 특정 기능의 전체 개발 과정과 히스토리 관리  
> **사용 시점**: 기능 개발 시작 시 생성, 개발 중 지속 업데이트

## 📋 기능 개요

- **기능명**: [기능명]
- **우선순위**: High/Medium/Low
- **예상 소요시간**: [시간]
- **시작일**: YYYY-MM-DD
- **완료일**: YYYY-MM-DD (완료 시 기입)

## 🎯 기능 설명

### 목적

[이 기능을 왜 만드는지, 어떤 문제를 해결하는지]

### 요구사항

- [ ] [요구사항 1]
- [ ] [요구사항 2]

### 성공 기준

- [ ] [성공 기준 1]
- [ ] [성공 기준 2]

## 🔄 워크플로우 진행상황

### 1. 탐색 단계 ✅/🔄/⏳

- **상태**: 완료/진행중/대기중
- **완료일**: YYYY-MM-DD
- **주요 발견사항**: [탐색에서 발견한 중요한 내용들]

### 2. 계획 단계 ✅/🔄/⏳

- **상태**: 완료/진행중/대기중
- **완료일**: YYYY-MM-DD
- **주요 설계사항**: [계획 단계의 핵심 결정사항들]

### 3. 구현 단계 ✅/🔄/⏳

- **상태**: 완료/진행중/대기중
- **완료일**: YYYY-MM-DD
- **주요 구현내용**: [구현한 핵심 기능들]

### 4. 커밋 단계 ✅/🔄/⏳

- **상태**: 완료/진행중/대기중
- **완료일**: YYYY-MM-DD
- **커밋 해시**: [git commit hash]

## 📁 관련 파일들

### 새로 생성된 파일

- `src/path/file1.ts` - [파일 역할 설명]

### 수정된 파일

- `src/path/existing-file.ts` - [수정 내용 요약]

## 🚨 발생한 이슈와 해결방법

### 이슈 1: [이슈 제목]

- **문제**: [문제 설명]
- **해결**: [해결 방법]
- **학습**: [이 과정에서 배운 점]

## 📝 개발 노트

### 중요한 결정사항

[개발 과정에서 내린 중요한 기술적 결정들과 그 이유]

### 배운 점

[이 기능을 개발하면서 새로 배운 것들]

---

**기능 완료 시**: 이 내용을 `history/` 폴더로 이동
```

## 🤖 3단계: Hook 파일 작성

### A. 마스터 Hook 설정 (.claude/hooks/README.md)

```markdown
# 🤖 자동화 시스템 마스터 설정

> **역할**: 모든 Hook들을 통합 관리하는 마스터 설정 파일

## 📋 Hook 실행 매핑 테이블

| 사용자 입력      | 실행될 Hook             | 설명                    |
| ---------------- | ----------------------- | ----------------------- |
| `단계: 탐색`     | stage-transition.md     | 탐색 단계로 전환        |
| `단계: 계획`     | stage-transition.md     | 계획 단계로 전환        |
| `단계: 구현`     | stage-transition.md     | 구현 단계로 전환        |
| `단계: 커밋`     | stage-transition.md     | 커밋 단계로 전환        |
| `시작: [기능명]` | stage-transition.md     | 새 기능 시작            |
| `완료: [기능명]` | stage-transition.md     | 기능 완료 처리          |
| `커밋해줘`       | pre-commit-checklist.md | 커밋 전 체크리스트 실행 |
| 파일 변경 감지   | context-auto-update.md  | 컨텍스트 자동 업데이트  |
| 커밋 완료 후     | post-commit-cleanup.md  | 커밋 후 정리 작업       |

## 🔍 Hook 감지 키워드

### 단계 전환 키워드

- "단계: 탐색" / "탐색 단계" / "탐색 모드"
- "단계: 계획" / "계획 단계" / "계획 모드"
- "단계: 구현" / "구현 단계" / "구현 모드"
- "단계: 커밋" / "커밋 단계" / "커밋 모드"

### 기능 관리 키워드

- "시작: [기능명]" / "[기능명] 시작"
- "완료: [기능명]" / "[기능명] 완료"

### 커밋 관련 키워드

- "커밋해줘" / "커밋하자" / "commit"
- "코드 검사" / "테스트 실행" / "품질 체크"
```

### B. 단계 전환 Hook (.claude/hooks/stage-transition.md)

```markdown
# 🔄 단계 전환 Hook

## 🔍 "단계: 탐색" 실행 시
```

탐색 단계로 전환해줘.

현재 기능: [CURRENT_FEATURE]

다음 작업들을 수행해줘:

1. workflow/exploration.md 활성화 및 초기화
2. current-status.md에서 현재 단계를 "탐색"으로 변경
3. 탐색 체크리스트 제공

탐색 완료 후 "단계: 계획" 명령어를 사용해서 다음 단계로 진행하세요.

```

## 🚀 "시작: [기능명]" 실행 시
```

새 기능 "[기능명]" 개발을 시작해줘.

다음 작업들을 수행해줘:

1. features/[기능명].md 파일 생성 (template.md 기반)
2. current-status.md 업데이트:
   - 현재 작업 중인 기능을 "[기능명]"으로 변경
   - 단계를 "탐색"으로 설정
3. 자동으로 "단계: 탐색" Hook 실행

```

```

### C. 커밋 전 체크리스트 Hook (.claude/hooks/pre-commit-checklist.md)

```markdown
# ✅ 커밋 전 체크리스트 Hook
```

커밋 전 체크리스트를 실행해줘.

다음 체크리스트를 순차적으로 실행해줘:

1. **기능 완성도 체크**

   - 모든 계획된 기능이 구현되었는가?
   - 요구사항이 모두 충족되었는가?

2. **코드 품질 체크**

   - TypeScript 컴파일 에러가 없는가?
   - ESLint 규칙을 위반한 곳이 없는가?
   - 테스트가 모두 통과하는가?

3. **보안 체크**

   - 하드코딩된 API 키나 비밀번호가 없는가?
   - .env 파일이 커밋에 포함되지 않았는가?

4. **문서화 체크**
   - API 변경사항이 문서에 반영되었는가?
   - 컨텍스트 파일들이 최신 상태인가?

각 체크 항목별로 ✅/❌ 결과를 보고하고,
모든 항목이 ✅인 경우에만 커밋을 진행해줘.

```

```

## 🧪 4단계: 테스트 및 검증

### 기본 동작 테스트

```bash
# 1. 새 기능 시작 테스트
# Claude에게 다음과 같이 요청:
"시작: 테스트 기능"

# 기대 결과:
# - features/test-feature.md 파일 생성
# - current-status.md 업데이트
# - 탐색 단계 활성화

# 2. 단계 전환 테스트
"단계: 계획"

# 기대 결과:
# - workflow/planning.md 활성화
# - current-status.md 단계 변경
# - 계획 체크리스트 제공

# 3. 커밋 테스트
"커밋해줘"

# 기대 결과:
# - 체크리스트 자동 실행
# - 각 항목별 검증 결과 보고
```

### 파일 구조 검증

```bash
# 최종 구조 확인
tree context/ .claude/

# 기대 결과:
# context/
# ├── README.md
# ├── current-status.md
# ├── features/
# │   ├── template.md
# │   └── test-feature.md
# ├── history/
# └── workflow/
#     ├── exploration.md
#     ├── planning.md
#     ├── implementation.md
#     └── commit.md
# .claude/
# └── hooks/
#     ├── README.md
#     ├── stage-transition.md
#     └── pre-commit-checklist.md
```

## 📚 5단계: 사용법 숙지

### 일반적인 개발 흐름

```bash
# 1. 새 기능 시작
"시작: JWT 인증 시스템"

# 2. 단계별 진행
"단계: 탐색"
# → 기존 코드 조사, 라이브러리 연구

"단계: 계획"
# → 설계 문서 작성, 구현 계획 수립

"단계: 구현"
# → 실제 코딩, 테스트 작성

"단계: 커밋"
# → 품질 검사, 최종 검토

# 3. 완료 처리
"완료: JWT 인증 시스템"
# → 히스토리 이동, 다음 작업 준비
```

### 유용한 명령어들

```bash
# 현재 상태 확인
"상태 업데이트"
"진행률 확인"

# 컨텍스트 동기화
"컨텍스트 동기화"

# 자동화 끄기 (필요시)
"자동화 끄고 수동으로 해줘"
```

## 🎯 구현 완료 체크리스트

- [ ] 폴더 구조 생성 완료
- [ ] 모든 템플릿 파일 작성 완료
- [ ] Hook 파일 작성 완료
- [ ] 기본 동작 테스트 통과
- [ ] 사용법 숙지 완료

## 🚀 다음 단계

구현이 완료되면:

1. 실제 프로젝트에 적용
2. 사용 경험 기록
3. 필요에 따라 커스터마이징
4. 팀 프로젝트로 확장 고려

---

**다음 문서**: [5. 학습 성과와 인사이트](05-lessons-learned.md)
